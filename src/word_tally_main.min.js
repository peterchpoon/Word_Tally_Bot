!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _userStore=__webpack_require__(1),_userStore2=_interopRequireDefault(_userStore),_chatClient=__webpack_require__(2),_chatClient2=_interopRequireDefault(_chatClient),_countbotFactory=__webpack_require__(3),_countbotFactory2=_interopRequireDefault(_countbotFactory);_chatClient2.default.onReceiveMessage(function(msg){var username_message=msg.split(/:(.+)/);_userStore2.default.addUserMessage(username_message[0],username_message[1])});var countbot=(0,_countbotFactory2.default)();countbot.runCountbot(_chatClient2.default.sendMessage.bind(_chatClient2.default))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _messageFactory=__webpack_require__(4),_messageFactory2=_interopRequireDefault(_messageFactory),userStore=function(){var users={},store={addUser:function(name){"string"==typeof name&&name.trim().length>0&&!users.hasOwnProperty(name.trim())&&(users[name.trim()]=(0,_messageFactory2.default)())},getUsernames:function(){return Object.keys(users).map(function(username){return username})},addUserMessage:function(name,msg){store.addUser(name),users[name.trim()]&&users[name.trim()].addSentence(msg)},getUserMessages:function(name){return users[name]&&users[name].getSentences()},getUserWords:function(name){return users[name]&&users[name].getWords()}};return store};exports.default=userStore()},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ChatClient={sendMessage:function(messageText){},onReceiveMessage:function(callback){}};exports.default=ChatClient},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}Object.defineProperty(exports,"__esModule",{value:!0});var _worker=__webpack_require__(5),Worker=_interopRequireWildcard(_worker);exports.default=function(){var msInMin=6e4,reportIntervalInMs=5*msInMin,runner=void 0,countbot={setReportIntervalInMinute:function(mintues){reportIntervalInMs="number"==typeof minutes&&minutes>0?minutes*msInMin:msInMin},runCountbot:function(sendMessage){countbot.clearCountbotRun(),runner=setInterval(function(){sendMessage(Worker.getSortedTopWords().map(function(e){return Object.keys(e)[0]+":"+Object.values(e)[0]}).toString())},reportIntervalInMs)},clearCountbotRun:function(){clearInterval(runner)}};return countbot}},function(module,exports){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function addWord(token){words.hasOwnProperty(token)?words[token]=words[token]+1:words[token]=1}var sentences=[],words={};return{addSentence:function(sentence){if("string"==typeof sentence&&sentence.trim().length>0){sentences.push(sentence);var tokens=sentence.trim().replace(/\s\s+/g," ").split(/\s*\b\s*/);tokens.forEach(function(token){return addWord(token)})}},getSentences:function(){return sentences.map(function(sentence){return sentence})},getWords:function(){return Object.keys(words).map(function(token){return _defineProperty({},token,words[token])})}}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function addWord(token,words){var key=Object.keys(token)[0];words.hasOwnProperty(key)?words[key]=parseInt(words[key])+parseInt(Object.values(token)):words[key]=parseInt(Object.values(token))}function getWords(words){return Object.keys(words).map(function(token){return _defineProperty({},token,words[token])})}function getSortedTopWords(){var words={},usernames=_userStore2.default.getUsernames();return usernames.forEach(function(username){var userWords=_userStore2.default.getUserWords(username);userWords.forEach(function(token){return addWord(token,words)})}),getWords(words).sort(function(a,b){return(Object.values(a)-Object.values(b))*-1}).slice(0,10)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSortedTopWords=getSortedTopWords;var _userStore=__webpack_require__(1),_userStore2=_interopRequireDefault(_userStore)}]);